document.addEventListener('DOMContentLoaded', function() {
    const moodDate = document.getElementById('moodDate');
    const moodButtons = document.querySelectorAll('.mood-button');

    // Function to update the selected mood button
    function updateSelectedMoodButton(selectedMood) {
        moodButtons.forEach(button => {
            if (button.dataset.mood === selectedMood) {
                button.classList.add('selected'); // Highlight the selected mood button
            } else {
                button.classList.remove('selected'); // Remove highlight from other buttons
            }
        });
    }

    // Function to record the mood
    window.recordMood = function(mood) {
        let date = moodDate.value;
        if (!date) {
            alert("Please select a date.");
            return;
        }

        // Store the mood using localStorage
        localStorage.setItem(date, mood);

        // Highlight the selected mood button
        updateSelectedMoodButton(mood);
    };

    // Event listener to handle date changes
    moodDate.addEventListener('change', function() {
        const selectedDate = this.value;
        const savedMood = localStorage.getItem(selectedDate);

        // Update the selected mood button based on saved mood
        updateSelectedMoodButton(savedMood);
    });
});
